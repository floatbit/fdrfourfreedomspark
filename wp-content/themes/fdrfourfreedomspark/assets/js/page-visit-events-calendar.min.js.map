{"version":3,"sources":["page-visit-events-calendar.js"],"names":["eventCalendarHandler","$btnFilter","$","$selectedText","$filterItemCont","$itemFilter","$dataItem","$eventsSection","$pagingContainer","$paging","children","$itemPagingButton","find","$dataCounter","itemsPerPage","pageShowCount","applyFilter","$tax","counter","this","addClass","each","data","includes","removeClass","html","length","applyPaging","hasClass","$addon","pg","Math","floor","pageCount","self","append","templatePaging","on","pageChanging","e","preventDefault","firstData","lastData","curPage","parseInt","nextSelected","$obj","pageActive","$pageCount","i","init","toggleClass","val","selectedText","jQuery","document","ready"],"mappings":"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","sourcesContent":["eventCalendarHandler = {\r\n    $btnFilter = $('.btn-filter'),\r\n    $selectedText = $('.selected-text'),\r\n    $filterItemCont = $('.filter-item-container'),\r\n    $itemFilter = $('.item-filter'),\r\n    $dataItem = $('.data-item'),\r\n    $eventsSection = $('.events-section'),\r\n    $pagingContainer = $('.paging-container'),\r\n    $paging = $('.paging-container').children(),\r\n    $itemPagingButton = $pagingContainer.find('.item-paging-button'),\r\n    $dataCounter = $('.data-counter'),\r\n    itemsPerPage = 2,\r\n    pageShowCount = 2, \r\n    \r\n    applyFilter = function($tax){\r\n        if ($tax) {\r\n            var counter = 0;\r\n            this.$dataItem.addClass('hide');\r\n            this.$dataItem.each(function(){\r\n                if ($(this).data('tax').includes($tax)) {\r\n                    $(this).removeClass('hide');\r\n                    counter += 1;\r\n                }\r\n            })\r\n            this.$dataCounter.html(counter);\r\n        } else {\r\n            this.$dataItem.removeClass('hide');\r\n            this.$dataCounter.html(this.$dataItem.length);\r\n        }        \r\n        this.applyPaging();\r\n    },\r\n\r\n    applyPaging = function(){\r\n        var counter = 0;\r\n        this.$dataItem.each(function(){\r\n            // apply paging to each of data\r\n            $(this).data('show-on-page', 0);    \r\n            if (!$(this).hasClass('hide')) {\r\n                counter += 1;\r\n                var pg = 0;\r\n                var $addon = ((counter % itemsPerPage) > 0) ? 1 : 0;\r\n                var pg = Math.floor(counter / itemsPerPage) + $addon;\r\n\r\n                $(this).data('show-on-page', pg);\r\n                if (pg > 1) {\r\n                    $(this).addClass('hide');\r\n                }\r\n            }\r\n        })\r\n\r\n        var pageCount = 0;\r\n        self.$pagingContainer.html('');\r\n        if (counter > itemsPerPage ) {\r\n            var $addon = ((counter % itemsPerPage) > 0) ? 1 : 0;\r\n            pageCount = Math.floor(counter / itemsPerPage)+$addon;\r\n            \r\n            self.$pagingContainer.append(templatePaging(pageCount));\r\n            self.$pagingContainer.find('.item-paging').on(\"click\", function(){\r\n                self.pageChanging(this);\r\n            });\r\n\r\n            //handle on click next page button\r\n            self.$pagingContainer.find('[href=\"#next-page\"]').on(\"click\", function(e){\r\n                e.preventDefault();\r\n                var firstData = true;\r\n                var lastData = false;\r\n                \r\n                self.$pagingContainer.find('.item-paging').each(function(){    \r\n                    if ( (firstData) && (!$(this).hasClass('hide')) ) {\r\n                        $(this).addClass('hide');\r\n                        firstData = false;\r\n                        var curPage = parseInt($(this).data('page') + 1);\r\n                        var nextSelected = self.$pagingContainer.find('.item-paging[data-page='+curPage+']');\r\n                        self.pageChanging(nextSelected);\r\n                    } else if ((!lastData) && (!firstData) && ($(this).hasClass('hide'))) {\r\n                        lastData = true;\r\n                        $(this).removeClass('hide');\r\n                    }\r\n                });\r\n                \r\n                //check to hide next pagination button\r\n                var $obj = $('[data-page='+pageCount+']:not(.hide)');\r\n                if ( $obj.length > 0 ) {\r\n                    $pagingContainer.find('.item-paging-button').addClass('hide');\r\n                }\r\n            });\r\n        }\r\n\r\n    },\r\n\r\n    pageChanging = function($obj){\r\n        $obj = $($obj);\r\n        var self = this\r\n        var pageActive = $obj.data('page'); \r\n    \r\n        self.$pagingContainer.children().removeClass('active');\r\n        $obj.addClass('active');\r\n            \r\n        self.$dataItem.each(function(){\r\n            $(this).addClass('hide');\r\n\r\n            var itempage = $(this).data('show-on-page');\r\n            if (itempage == pageActive) {\r\n                $(this).removeClass('hide');\r\n            }\r\n        })\r\n    },\r\n\r\n    templatePaging = function($pageCount) {\r\n        var html = '';\r\n        if ($pageCount > 1) { \r\n            for (var i = 0; i < $pageCount; ++i) {\r\n                html += '<span class=\"item-paging p-style '+((i == 0) ? 'active' : '')+' '+( (i+1 > pageShowCount) ? 'hide' : '' )+\r\n                        ' \" data-page=\"'+parseInt(i+1)+'\">'+parseInt(i+1)+'</span>';\r\n            }\r\n\r\n            if ($pageCount > pageShowCount) {\r\n               html += '<a href=\"#next-page\" class=\"btn-with-arrow item-paging-button\">NEXT</a>';\r\n            }\r\n        }\r\n        return html;\r\n    },\r\n\r\n    init = function(){\r\n        var self = this;\r\n        self.applyFilter('');\r\n\r\n        this.$btnFilter.on('click', function(){\r\n            $(this).toggleClass('active');\r\n            self.$filterItemCont.toggleClass('active');\r\n        })\r\n\r\n        this.$itemFilter.on('click', function(){\r\n            var val = $(this).data('value');\r\n            var selectedText = $(this).html();\r\n            \r\n            self.applyFilter(val);\r\n            self.$selectedText.html(selectedText);\r\n            \r\n            self.$itemFilter.removeClass('selected');\r\n            $(this).addClass('selected');\r\n            self.$btnFilter.removeClass('active');\r\n            self.$filterItemCont.removeClass('active');\r\n        })\r\n\r\n    }\r\n}\r\njQuery(document).ready(function($) {\r\n\r\n    eventCalendarHandler.init();\r\n\r\n})\r\n"],"file":"page-visit-events-calendar.min.js"}