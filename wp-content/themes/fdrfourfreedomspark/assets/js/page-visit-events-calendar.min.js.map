{"version":3,"sources":["page-visit-events-calendar.js"],"names":["eventCalendarHandler","$panelHeaderFilter","$","$btnFilter","$selectedText","$filterItemCont","$itemFilter","$dataItem","$eventsSection","$pagingContainer","$paging","children","$itemPagingButton","find","$dataCounter","itemsPerPage","parseInt","data","pageShowCount","selectedFilter","applyFilter","$tax","counter","this","addClass","each","includes","removeClass","html","length","applyPaging","hasClass","$addon","pg","Math","floor","pageCount","self","append","templatePaging","on","pageChanging","e","preventDefault","firstData","lastData","curPage","nextSelected","$obj","pageActive","$pageCount","i","init","toggleClass","val","selectedText","jQuery","document","ready"],"mappings":"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","sourcesContent":["eventCalendarHandler = {\r\n    $panelHeaderFilter = $('.panel-header-filter'),\r\n    $btnFilter = $('.btn-filter'),\r\n    $selectedText = $('.selected-text'),\r\n    $filterItemCont = $('.filter-item-container'),\r\n    $itemFilter = $('.item-filter'),\r\n    $dataItem = $('.data-item'),\r\n    $eventsSection = $('.events-section'),\r\n    $pagingContainer = $('.paging-container'),\r\n    $paging = $('.paging-container').children(),\r\n    $itemPagingButton = $pagingContainer.find('.item-paging-button'),\r\n    $dataCounter = $('.data-counter'),\r\n    itemsPerPage = parseInt($panelHeaderFilter.data('items-perpage')),\r\n    pageShowCount = 8, \r\n    selectedFilter = $panelHeaderFilter.data('selected'),\r\n    \r\n    applyFilter = function($tax){\r\n        if ($tax) {\r\n            var counter = 0;\r\n            this.$dataItem.addClass('hide');\r\n            this.$dataItem.each(function(){\r\n                if ($(this).data('tax').includes($tax)) {\r\n                    $(this).removeClass('hide');\r\n                    counter += 1;\r\n                }\r\n            })\r\n            this.$dataCounter.html(counter);\r\n        } else {\r\n            this.$dataItem.removeClass('hide');\r\n            this.$dataCounter.html(this.$dataItem.length);\r\n        }        \r\n        this.applyPaging();\r\n    },\r\n\r\n    applyPaging = function(){\r\n        var counter = 0;\r\n        this.$dataItem.each(function(){\r\n            // apply paging to each of data\r\n            $(this).data('show-on-page', 0);    \r\n            if (!$(this).hasClass('hide')) {\r\n                counter += 1;\r\n                var pg = 0;\r\n                var $addon = ((counter % itemsPerPage) > 0) ? 1 : 0;\r\n                var pg = Math.floor(counter / itemsPerPage) + $addon;\r\n\r\n                $(this).data('show-on-page', pg);\r\n                if (pg > 1) {\r\n                    $(this).addClass('hide');\r\n                }\r\n            }\r\n        })\r\n\r\n        var pageCount = 0;\r\n        self.$pagingContainer.html('');\r\n        if (counter > itemsPerPage ) {\r\n            var $addon = ((counter % itemsPerPage) > 0) ? 1 : 0;\r\n            pageCount = parseInt(Math.floor(counter / itemsPerPage)+$addon);\r\n            \r\n            self.$pagingContainer.append(templatePaging(pageCount));\r\n            self.$pagingContainer.find('.item-paging').on(\"click\", function(){\r\n                self.pageChanging(this);\r\n            });\r\n\r\n            //handle on click next page button\r\n            self.$pagingContainer.find('[href=\"#next-page\"]').on(\"click\", function(e){\r\n                e.preventDefault();\r\n                var firstData = true;\r\n                var lastData = false;\r\n                \r\n                self.$pagingContainer.find('.item-paging').each(function(){    \r\n                    if ( (firstData) && (!$(this).hasClass('hide')) ) {\r\n                        $(this).addClass('hide');\r\n                        firstData = false;\r\n                        var curPage = parseInt($(this).data('page') + 1);\r\n                        var nextSelected = self.$pagingContainer.find('.item-paging[data-page='+curPage+']');\r\n                        self.pageChanging(nextSelected);\r\n                    } else if ((!lastData) && (!firstData) && ($(this).hasClass('hide'))) {\r\n                        lastData = true;\r\n                        $(this).removeClass('hide');\r\n                    }\r\n                });\r\n                \r\n                //check to hide next pagination button\r\n                var $obj = $('[data-page='+pageCount+']:not(.hide)');\r\n                if ( $obj.length > 0 ) {\r\n                    $pagingContainer.find('.item-paging-button').addClass('hide');\r\n                }\r\n            });\r\n        }\r\n\r\n    },\r\n\r\n    pageChanging = function($obj){\r\n        $obj = $($obj);\r\n        var self = this\r\n        var pageActive = $obj.data('page'); \r\n    \r\n        self.$pagingContainer.children().removeClass('active');\r\n        $obj.addClass('active');\r\n            \r\n        self.$dataItem.each(function(){\r\n            $(this).addClass('hide');\r\n\r\n            var itempage = $(this).data('show-on-page');\r\n            if (itempage == pageActive) {\r\n                $(this).removeClass('hide');\r\n            }\r\n        })\r\n    },\r\n\r\n    templatePaging = function($pageCount) {\r\n        var html = '';\r\n        if ($pageCount > 1) { \r\n            for (var i = 0; i < $pageCount; ++i) {\r\n                html += '<span class=\"item-paging p-style '+((i == 0) ? 'active' : '')+' '+( (i+1 > pageShowCount) ? 'hide' : '' )+\r\n                        ' \" data-page=\"'+parseInt(i+1)+'\">'+parseInt(i+1)+'</span>';\r\n            }\r\n\r\n            if ($pageCount > pageShowCount) {\r\n               html += '<a href=\"#next-page\" class=\"btn-with-arrow item-paging-button\">NEXT</a>';\r\n            }\r\n        }\r\n        return html;\r\n    },\r\n\r\n    init = function(){\r\n        var self = this;        \r\n        self.applyFilter(self.selectedFilter);\r\n\r\n        this.$btnFilter.on('click', function(){\r\n            $(this).toggleClass('active');\r\n            self.$filterItemCont.toggleClass('active');\r\n        })\r\n\r\n        this.$itemFilter.on('click', function(){\r\n            var val = $(this).data('value');\r\n            var selectedText = $(this).html();\r\n            \r\n            self.applyFilter(val);\r\n            self.$selectedText.html(selectedText);\r\n            \r\n            self.$itemFilter.removeClass('selected');\r\n            $(this).addClass('selected');\r\n            self.$btnFilter.removeClass('active');\r\n            self.$filterItemCont.removeClass('active');\r\n        })\r\n\r\n    }\r\n}\r\njQuery(document).ready(function($) {\r\n\r\n    eventCalendarHandler.init();\r\n\r\n})\r\n"],"file":"page-visit-events-calendar.min.js"}