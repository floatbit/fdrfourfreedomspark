timelineHandler={$timelineCar:$timelineCar=$(".timeline-carousel"),$expandTimeline:$expandTimeline=$("[href=#expand-timeline]"),$navContainer:$navContainer=$(".nav-container"),$timelineCell:$timelineCell=$(".timeline-cell"),$timelineMain:$timelineMain=$(".timeline-main"),$navDecadeContainer:$navDecadeContainer=$(".navigation-decade-container"),generateNavigation:generateNavigation=function(){var e=this,i="";this.$timelineCell.each(function(){var n=$(this).data("decade");if(i!==n){var a="";1960==n&&(a="last"),e.$navContainer.append('<div class="cell-nav item '+a+'" data-decade="'+n+'"><p><strong>'+n+"</strong></p></div>")}else e.$navContainer.append('<div class="cell-nav"></div>');i=n})},init:init=function(){var e=this;e.generateNavigation();var i=e.$timelineCar.flickity({cellSelector:".timeline-cell",cellAlign:"left",draggable:!0,contain:!0,pageDots:!1,prevNextButtons:!1,freeScroll:!0,adaptiveHeight:!0});e.$navContainer.flickity({asNavFor:".timeline-carousel",contain:!0,prevNextButtons:!1,pageDots:!1}),Foundation.MediaQuery.is("small only")&&e.$navContainer.removeClass("first-load"),i.on("change.flickity",function(i,n){n>0?e.$navContainer.removeClass("first-load"):e.$navContainer.addClass("first-load")}),$(".cell-nav").on("click",function(i){i.preventDefault();var n=$(this).data("decade"),a=0;$(".timeline-cell").each(function(){if($(this).data("decade")<n){var e=parseFloat($(this).css("padding-top")),i=parseFloat($(this).css("padding-bottom")),t=parseFloat($(this).width());a+=e+i+t}}),e.$timelineCar.find(".flickity-slider").animate({scrollLeft:a},"slow")}),e.$timelineCar.find(".flickity-slider").on("wheel",function(i){i.preventDefault(),this.scrollLeft+=i.originalEvent.wheelDelta,this.scrollLeft>0?e.$navContainer.removeClass("first-load"):e.$navContainer.addClass("first-load")}),$(window).on("resize",function(n){n.preventDefault();var a=$(this),t=parseFloat(a.height()),l=0,o=0;e.$timelineCar.each(function(e){l=parseFloat($(this).height())}),e.$navDecadeContainer.each(function(e){o=parseFloat($(this).height())});var r=t/(l+o),s=1/r*100;e.$timelineMain.css({transform:"scale("+r.toFixed(2)+")",width:s.toFixed(2)+"%"}),i.flickity("resize"),e.$navContainer.flickity("resize")}).trigger("resize"),$('a[href="#close-window"]').on("click",function(e){e.preventDefault(),window.close(),window.closed||(window.location.href="/")})}},jQuery(document).ready(function(e){timelineHandler.init()});
//# sourceMappingURL=page-learn-timeline.min.js.map
