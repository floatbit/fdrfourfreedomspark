{"version":3,"sources":["page-learn-timeline.js"],"names":["timelineHandler","$timelineCar","$","$expandTimeline","$navContainer","$timelineCell","$timelineMain","$navDecadeContainer","generateNavigation","self","this","temp","each","decade","data","$addon","append","init","$carousel","flickity","cellSelector","cellAlign","draggable","contain","pageDots","prevNextButtons","freeScroll","adaptiveHeight","asNavFor","on","event","index","removeClass","addClass","find","e","preventDefault","scrollLeft","originalEvent","wheelDelta","console","log","window","selfWindow","windowHeight","parseFloat","height","timelineHeight","timelineNavHeight","scale","width","css","transform","toFixed","jQuery","document","ready"],"mappings":"AAAAA,gBAAkB,CACdC,aAAAA,aAAeC,EAAE,sBACjBC,gBAAAA,gBAAkBD,EAAE,2BACpBE,cAAAA,cAAgBF,EAAE,kBAClBG,cAAAA,cAAgBH,EAAE,kBAClBI,cAAAA,cAAgBJ,EAAE,kBAClBK,oBAAAA,oBAAsBL,EAAE,gCAExBM,mBAAAA,mBAAqB,WACjB,IAAIC,EAAOC,KACPC,EAAO,GACXD,KAAKL,cAAcO,KAAK,WACpB,IAAIC,EAASX,EAAEQ,MAAMI,KAAK,UAC1B,GAAIH,IAASE,EAAQ,CACjB,IAAIE,EAAS,GACC,MAAVF,IACAE,EAAS,QAGbN,EAAKL,cAAcY,OACf,6BAA6BD,EAAO,gBAAgBF,EAAO,4BAG/DJ,EAAKL,cAAcY,OACf,gCAGRL,EAAOE,KAIfI,KAAAA,KAAO,WACH,IAAIR,EAAOC,KAEXD,EAAKD,qBAEL,IAAIU,EAAYT,EAAKR,aAAakB,SAAS,CACvCC,aAAc,iBACdC,UAAW,OACXC,WAAW,EACXC,SAAS,EACTC,UAAU,EACVC,iBAAiB,EACjBC,YAAY,EACZC,gBAAgB,IAGpBvB,cAAce,SAAS,CACnBS,SAAU,qBACVL,SAAS,EACTE,iBAAiB,EACjBD,UAAU,IAGdN,EAAUW,GAAI,kBAAmB,SAAUC,EAAOC,GAC1CA,EAAQ,EACRtB,EAAKL,cAAc4B,YAAY,cAE/BvB,EAAKL,cAAc6B,SAAS,gBAIpCxB,EAAKR,aAAaiC,KAAK,oBAAoBL,GAAG,QAAS,SAASM,GAC5DA,EAAEC,iBACF1B,KAAK2B,YAAcF,EAAEG,cAAcC,WAC/B7B,KAAK2B,WAAa,EAClB5B,EAAKL,cAAc4B,YAAY,cAE/BvB,EAAKL,cAAc6B,SAAS,cAEhCO,QAAQC,IAAI/B,KAAK2B,cAGrB5B,EAAKN,gBAAgB0B,GAAG,QAAS,SAASM,GACtCA,EAAEC,iBACFlB,EAAUC,SAAU,SAAU,GAC9BV,EAAKL,cAAc4B,YAAY,gBAGnC9B,EAAEwC,QAAQb,GAAG,SAAU,SAASM,GAC5BA,EAAEC,iBACF,IAAIO,EAAazC,EAAEQ,MACfkC,EAAeC,WAAWF,EAAWG,UACrCC,EAAiB,EACjBC,EAAoB,EACxBvC,EAAKR,aAAaW,KAAK,SAASuB,GAC5BY,EAAiBF,WAAW3C,EAAEQ,MAAMoC,YAExCrC,EAAKF,oBAAoBK,KAAK,SAASuB,GACnCa,EAAoBH,WAAW3C,EAAEQ,MAAMoC,YAE3C,IACIG,EAAQL,GADQG,EAAiBC,GAEjCE,EAAS,EAAID,EAAS,IAE1BxC,EAAKH,cAAc6C,IAAI,CACnBC,UAAc,SAASH,EAAMI,QAAQ,GAAG,IACxCH,MAAUA,EAAMG,QAAQ,GAAG,MAG/BnC,EAAUC,SAAS,cAK/BmC,OAAOC,UAAUC,MAAM,SAAStD,GAE5BF,gBAAgBiB","sourcesContent":["timelineHandler = {\r\n    $timelineCar = $('.timeline-carousel'),\r\n    $expandTimeline = $('[href=#expand-timeline]'),\r\n    $navContainer = $('.nav-container'),\r\n    $timelineCell = $('.timeline-cell'),\r\n    $timelineMain = $('.timeline-main'),\r\n    $navDecadeContainer = $('.navigation-decade-container'),\r\n\r\n    generateNavigation = function(){\r\n        var self = this;\r\n        var temp = '';        \r\n        this.$timelineCell.each(function(){\r\n            var decade = $(this).data('decade');\r\n            if (temp !== decade) {\r\n                var $addon = '';\r\n                if (decade == 1960) {\r\n                    $addon = 'last';\r\n                }\r\n\r\n                self.$navContainer.append(\r\n                    '<div class=\"cell-nav item '+$addon+'\"><p><strong>'+decade+'</strong></p></div>'\r\n                );\r\n            } else {\r\n                self.$navContainer.append(\r\n                    '<div class=\"cell-nav\"></div>'\r\n                );\r\n            }\r\n            temp = decade;\r\n        })\r\n    },\r\n\r\n    init = function(){\r\n        var self = this;\r\n\r\n        self.generateNavigation();\r\n\r\n        var $carousel = self.$timelineCar.flickity({\r\n            cellSelector: '.timeline-cell',\r\n            cellAlign: 'left',\r\n            draggable: true,\r\n            contain: true,\r\n            pageDots: false,\r\n            prevNextButtons: false,\r\n            freeScroll: true,\r\n            adaptiveHeight: true\r\n        });\r\n\r\n        $navContainer.flickity({\r\n            asNavFor: '.timeline-carousel',\r\n            contain: true,\r\n            prevNextButtons: false,            \r\n            pageDots: false,\r\n        });\r\n\r\n        $carousel.on( 'change.flickity', function( event, index ) {\r\n            if (index > 0) {\r\n                self.$navContainer.removeClass('first-load'); \r\n            } else {\r\n                self.$navContainer.addClass('first-load');\r\n            }\r\n        });\r\n\r\n        self.$timelineCar.find('.flickity-slider').on('wheel', function(e) {\r\n            e.preventDefault();\r\n            this.scrollLeft += e.originalEvent.wheelDelta;\r\n            if (this.scrollLeft > 0) {\r\n                self.$navContainer.removeClass('first-load'); \r\n            } else {\r\n                self.$navContainer.addClass('first-load');\r\n            }\r\n            console.log(this.scrollLeft);\r\n        });\r\n\r\n        self.$expandTimeline.on('click', function(e){\r\n            e.preventDefault();\r\n            $carousel.flickity( 'select', 1 );\r\n            self.$navContainer.removeClass('first-load');\r\n        });\r\n    \r\n        $(window).on('resize', function(e){\r\n            e.preventDefault();\r\n            var selfWindow = $(this);\r\n            var windowHeight = parseFloat(selfWindow.height());\r\n            var timelineHeight = 0;\r\n            var timelineNavHeight = 0;\r\n            self.$timelineCar.each(function(e){\r\n                timelineHeight = parseFloat($(this).height());\r\n            });\r\n            self.$navDecadeContainer.each(function(e){\r\n                timelineNavHeight = parseFloat($(this).height());\r\n            });\r\n            var contentHeight = timelineHeight + timelineNavHeight;\r\n            var scale = windowHeight / contentHeight;\r\n            var width = (1 / scale) * 100;\r\n\r\n            self.$timelineMain.css({\r\n                'transform' : 'scale('+scale.toFixed(2)+')',\r\n                'width' : width.toFixed(2)+'%'\r\n            });\r\n\r\n            $carousel.flickity('resize')\r\n        });\r\n    }\r\n}\r\n\r\njQuery(document).ready(function($) {\r\n\r\n    timelineHandler.init();\r\n\r\n})\r\n"],"file":"page-learn-timeline.min.js"}